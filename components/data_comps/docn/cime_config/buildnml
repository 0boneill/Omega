#!/usr/bin/env python2

"""
build data model namelist input 
"""
import sys, os, time

_CIMEROOT = os.environ.get("CIMEROOT")
if _CIMEROOT is None:
    raise SystemExit("ERROR: must set CIMEROOT environment variable")
sys.path.append(os.path.join(os.environ["CIMEROOT"],"scripts","Tools"))

from standard_script_setup          import *
from CIME.case                      import Case
from CIME.buildnml                  import build_data_nml, parse_command_line

logger = logging.getLogger(__name__)

###############################################################################
def _main_func():
###############################################################################

    if "--test" in sys.argv:
        test_results = doctest.testmod(verbose=True)
        sys.exit(1 if test_results.failed > 0 else 0)


    parser = argparse.ArgumentParser()

    CIME.utils.setup_standard_logging_options(parser)

    caseroot = parse_command_line(sys.argv, parser)

    case = Case(caseroot)

    ninst = case.get_value("NINST_OCN")

    build_data_nml(case, "docn", "ocn", ninst)

###############################################################################

if __name__ == "__main__":
    _main_func()
