<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PIO User&#39;s Guide: Describing your decompostion to PIO</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Types&nbsp;List</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="Decomp">Describing your decompostion to PIO </a></h1><h2><a class="anchor" id="decomp">
Describing your decomposition to PIO</a></h2>
<p>On of the biggest challenges to working with PIO is setting up the call to <a class="el" href="group__PIO__initdecomp.html">PIO_initdecomp</a>. The user must properly describe the how data within each MPI tasks memory should be placed or retrieved from disk. PIO provides several interfaces. We describe the simplest interface first and then progress to the most complex and flexible interface.</p>
<h3><a class="anchor" id="initdecomp_bc">
Block-cyclic interface</a></h3>
<p>The simplest inteface assumes that your arrays are decomposed in a block-cyclic structure and can be described simply using a start-count type approach. A simple block-cyclic decomposition for a 1-dimension (1D) array is illustrated in Figure 1. Note that contigious layout of the data in memory can be easily mapped to a contigious layout on disk. The start arguements corresponds to the starting point of the block of contigious memory, while the count is the number of words. Note that start and count must be arrays of length equal to the dimensionality of the distributed array. While we use a 1D array for simplicity, PIO currently supports up to 5-dimension (5D) arrays. In the case of 5D arrays, the start and count arrays would be of length 5.</p>
<div align="center">
<img src="block-cyclic.png" alt="block-cyclic.png"/>
<p><strong>Figure 1: Setting up the start and count arrays for a single 1D array distributed accross 3 MPI tasks.</strong></p></div>
 <h3><a class="anchor" id="initdecomp_dof">
Degree of freedom interface</a></h3>
<p>If you have a more complex data decomposition, than you will need to use a different version of the <a class="el" href="group__PIO__initdecomp.html">PIO_initdecomp</a> interface. In particular you will need to set the computatinal degree's of freedom. The computational degree's of freedom, the arguement compDOF in the <a class="el" href="group__PIO__initdecomp.html">PIO_initdecomp</a> are illus in Figure 2. Note that in Figure 2, PE 0 and PE 1 do not contain contiguous pieces of the distributed array. The desired placement on disk must be specified using the the compDOF argument to <a class="el" href="group__PIO__initdecomp.html">PIO_initdecomp</a>. In this case PE 0 contains the 2nd, 4th, and 5th element of the array, PE 1 contains the 1st and 3rd, and PE 2 contains the 6th, 7th, and 8th elements of the array. The integer compDOF arrays for each MPI task is illustrated at the bottom of Figure 2.</p>
<div align="center">
<img src="norearr.png" alt="norearr.png"/>
<p><strong>Figure 2: Setting up the comDOF arrays for a single 1D array distributed accross 3 MPI tasks.</strong></p></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Wed Dec 16 15:25:20 2009 for PIO User's Guide by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
